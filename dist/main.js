(()=>{var e={352:e=>{function t(){let e=[],t=[{type:"Carrier",length:5,hits:0,sunk:!1},{type:"Battleship",length:4,hits:0,sunk:!1},{type:"Destroyer",length:3,hits:0,sunk:!1},{type:"Submarine",length:3,hits:0,sunk:!1},{type:"Patrol Boat",length:2,hits:0,sunk:!1}],o=function(e){!0===e.sunk||e.hits++},r=function(e){e.hits===e.length?(e.sunk=!0,console.log("sunk")):e.sunk=!1},a=t[0],n=t[1],l=t[2],i=t[3],c=t[4];for(let t=0;t<10;t++){let t=[];for(let e=0;e<10;e++)t.push(0);e.push(t)}function s(t,o,r){if(t-=1,o-=1,r){for(let a=0;a<r.length;a++)if(t+a>=10||0!==e[o][t+a])return!0;return!1}return 0!==e[o][t]&&("x"!==e[o][t].value||void 0!==e[o][t].ship)}return{placeShip:function(t,o,r,a){if(this.x=t,this.y=o,this.ship=r,occupied=s(t,o),t-=1,o-=1,"horizontal"===a){if(!(r.length+t<=10&&!1===occupied))throw new Error("Ship is too big or the position is occupied.");for(let a=0;a<r.length;a++)e[o][t+a]={value:"o",ship:r}}else{if("vertical"!==a)throw new Error('Invalid orientation. Only "horizontal" or "vertical" are allowed.');if(console.log(occupied),!(r.length+o<=10&&!1===occupied))throw new Error("Ship is too big or the position is occupied.");for(let a=0;a<r.length;a++)if(0!==e[o+a][t])throw new Error("Ship is too big or the position is occupied.");for(let a=0;a<r.length;a++)e[o+a][t]={value:"o",ship:r}}},recieveAttack:function(t,a){occupied=s(t,a),t-=1;let n=e[a-=1][t].ship;if(!0===occupied)return e[a][t].value="x",o(n),r(n),console.log(n),console.log("Hit"),!0;if("x"===e[a][t].value)throw new Error("you have already fired here");return e[a][t]={value:"x"},console.log("Miss at "+ ++t+","+ ++a),!1},checkOccupied:s,checkGameOver:function(e){return console.log("a"),!0===a.sunk&&!0===n.sunk&&!0===l.sunk&&!0===i.sunk&&!0===c.sunk&&(console.log("Game Over"),!0)},carrier:a,battleship:n,destroyer:l,submarine:i,patrolBoat:c,grid:e}}e.exports={Player:function(){const e=t(),o=t();function r(e){let t=Math.random()<.5?"horizontal":"vertical",a=0;if("vertical"===t){let n=Math.floor(10*Math.random())+1,l=Math.floor(Math.random()*(11-e.length))+1;for(let t=0;t<e.length;t++)!1===o.checkOccupied(n,l+t)&&a++;if(a===e.length)try{o.placeShip(n,l,e,t)}catch(t){r(e)}else a!==e.length&&r(e)}else if("horizontal"===t){let n=Math.floor(Math.random()*(11-e.length))+1,l=Math.floor(10*Math.random())+1;for(let t=0;t<e.length;t++)!1===o.checkOccupied(n+t,l)&&a++;if(a===e.length)try{o.placeShip(n,l,e,t)}catch(t){r(e)}else a!==e.length&&r(e)}}const a=[o.carrier,o.battleship,o.destroyer,o.submarine,o.patrolBoat];return r(a[0]),r(a[1]),r(a[2]),r(a[3]),r(a[4]),{player1Gameboard:e,player2Gameboard:o,compAttack:function t(){let o=Math.floor(10*Math.random())+1,r=Math.floor(10*Math.random())+1;return o-=1,r-=1,"x"===e.grid[r][o].value||"x"===e.grid[r][o].value&&void 0!==e.grid[r][o].ship?t():[o=++o,r=++r]}}}}}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=o(352);let t=document.getElementById("board1"),r=document.getElementById("board2"),a=document.getElementById("gridContainer");const n=(0,e.Player)();let l=document.getElementById("gameOverContainer"),i=document.getElementById("playagainBtn");function c(){let e=n.compAttack();!0===n.player1Gameboard.recieveAttack(e[0],e[1])?setTimeout((()=>{c()}),1e3):setTimeout((()=>{f(s,t)}),1e3)}l.style.display="none";const s=n.player1Gameboard.grid,d=n.player2Gameboard.grid;let h=n.player1Gameboard.checkOccupied,u=n.player2Gameboard.checkOccupied;function p(e,o,a){return e===t?h(o,a):e===r?u(o,a):h(o,a)}function f(e,t){t.innerHTML="";for(let o=0;o<10;o++)for(let r=0;r<10;r++){const a=document.createElement("div");a.classList.add("cell"),a.dataset.x=r,a.dataset.y=o;let n=r,l=o;t.appendChild(a),n=++n,l=++l,"x"===e[o][r].value&&!0===p(t,n,l)?a.classList.add("shiphit"):!0===p(t,n,l)?a.classList.add("ship"):"x"===e[o][r].value&&a.classList.add("hit")}}console.log(s),console.log(d),console.log(h(1,1));let y=n.player2Gameboard.recieveAttack;const m=[n.player1Gameboard.carrier,n.player1Gameboard.battleship,n.player1Gameboard.destroyer,n.player1Gameboard.submarine,n.player1Gameboard.patrolBoat];let g=0;const v=document.getElementById("gridContainer"),b=document.getElementById("shipname"),k=document.getElementById("welcomeContainer");b.innerText="Carrier";let x="horizontal";document.getElementById("rotateBtn").addEventListener("click",(function(){x="horizontal"===x?"vertical":"horizontal",v.querySelectorAll(".cell.hovered").forEach((e=>{e.classList.remove("hovered")}));const e=v.querySelector(".cell.hover");if(e){const t=m[g],o=[e];if("horizontal"===x)for(let r=1;r<t.length;r++){const t=v.querySelector('[data-x="'+(+e.dataset.x+r)+'"][data-y="'+e.dataset.y+'"]');t&&o.push(t)}else if("vertical"===x)for(let r=1;r<t.length;r++){const t=v.querySelector('[data-x="'+e.dataset.x+'"][data-y="'+(+e.dataset.y+r)+'"]');t&&o.push(t)}o.forEach((e=>{e.classList.add("hovered")}))}})),v.addEventListener("mousemove",(function(e){const t=e.target,o=m[g],r=[t];if("horizontal"===x)for(let e=1;e<o.length;e++){const o=v.querySelector('[data-x="'+(+t.dataset.x+e)+'"][data-y="'+t.dataset.y+'"]');o&&r.push(o)}else if("vertical"===x)for(let e=1;e<o.length;e++){const o=v.querySelector('[data-x="'+t.dataset.x+'"][data-y="'+(+t.dataset.y+e)+'"]');o&&r.push(o)}r.forEach((e=>{e.classList.add("hovered")}))})),v.addEventListener("mouseout",(function(){v.querySelectorAll(".cell.hovered").forEach((e=>{e.classList.remove("hovered")}))})),v.addEventListener("click",(function(e){const o=e.target;let r=o.dataset.x,l=o.dataset.y;r=++r,l=++l;let i=m[g];if(!n.player1Gameboard.placeShip(r,l,i,x)){g++,f(s,t),f(s,a),5===g&&k.remove();let e=m[g].type;b.innerText=e}}));for(let e=0;e<10;e++)for(let t=0;t<10;t++){const o=document.createElement("div");o.classList.add("cell"),o.dataset.x=t,o.dataset.y=e,v.appendChild(o)}f(s,t),f(d,r),r.addEventListener("click",(function(e){!function(){let e=n.player1Gameboard.checkGameOver(),t=n.player2Gameboard.checkGameOver();if(!0!==e&&!0!==t)return!1;l.style.display="",i.addEventListener("click",(function(){location.reload()}))}();const o=e.target;let a=o.dataset.x,h=o.dataset.y;a=++a,h=++h,!0===y(a,h)||(c(),setTimeout((()=>{f(s,t)}),1e3)),f(d,r)}))})()})();
(()=>{var e={352:e=>{function t(){let e=[],t=[{type:"Carrier",length:5,hits:0,sunk:!1},{type:"Battleship",length:4,hits:0,sunk:!1},{type:"Destroyer",length:3,hits:0,sunk:!1},{type:"Submarine",length:3,hits:0,sunk:!1},{type:"Patrol Boat",length:2,hits:0,sunk:!1}],r=function(e){!0===e.sunk||e.hits++},a=function(e){e.hits===e.length?e.sunk=!0:e.sunk=!1},o=t[0],i=t[1],l=t[2],n=t[3],c=t[4];for(let t=0;t<10;t++){let t=[];for(let e=0;e<10;e++)t.push(0);e.push(t)}function s(t,r,a){if(t-=1,r-=1,a){for(let o=0;o<a.length;o++)if(0===e[r][t+o])return!1;return!0}return 0!==e[r][t]&&("x"!==e[r][t].value||void 0!==e[r][t].ship)}return{placeShip:function(t,r,a){if(this.x=t,this.y=r,this.ship=a,occupied=s(t,r,a),t-=1,r-=1,!(a.length+t<=10&&!1===occupied))throw new Error("too big or occupied");for(let o=0;o<a.length;o++)e[r][t+o]={value:"o",ship:a}},recieveAttack:function(t,o){if(occupied=s(t,o),t-=1,o-=1,!0===occupied)return e[o][t].value="x",r(e[o][t].ship),a(e[o][t].ship),console.log(e[o][t].ship),console.log("Hit"),!0;if("x"===e[o][t].value)throw new Error("you have already fired here");return e[o][t]={value:"x"},console.log("Miss at "+ ++t+","+ ++o),!1},checkOccupied:s,carrier:o,battleship:i,destroyer:l,submarine:n,patrolBoat:c,grid:e}}e.exports={Player:function(){const e=t(),r=t();return e.placeShip(1,4,e.carrier),r.placeShip(5,5,r.carrier),e.placeShip(2,7,e.battleship),r.placeShip(3,9,r.battleship),e.placeShip(3,6,e.destroyer),r.placeShip(2,4,r.destroyer),e.placeShip(6,10,e.submarine),r.placeShip(8,4,r.submarine),e.placeShip(7,8,e.patrolBoat),r.placeShip(2,7,r.patrolBoat),{player1Gameboard:e,player2Gameboard:r,compAttack:function t(){let r=Math.floor(10*Math.random())+1,a=Math.floor(10*Math.random())+1;return r-=1,a-=1,"x"===e.grid[a][r].value||"x"===e.grid[a][r].value&&void 0!==e.grid[a][r].ship?t():[r=++r,a=++a]}}}}}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(352);let t=document.getElementById("board1"),a=document.getElementById("board2");const o=(0,e.Player)();function i(){let e=o.compAttack();!0===o.player1Gameboard.recieveAttack(e[0],e[1])?setTimeout((()=>{i()}),1e3):setTimeout((()=>{u(l,t)}),1e3)}const l=o.player1Gameboard.grid,n=o.player2Gameboard.grid;let c=o.player1Gameboard.checkOccupied,s=o.player2Gameboard.checkOccupied;function p(e,r,a){return e===t?c(r,a):s(r,a)}function u(e,t){t.innerHTML="";for(let r=0;r<10;r++)for(let a=0;a<10;a++){const o=document.createElement("div");o.classList.add("cell"),o.dataset.x=a,o.dataset.y=r;let i=a,l=r;o.innerText=e[r][a]?e[r][a].value:"",t.appendChild(o),i=++i,l=++l,"x"===e[r][a].value&&!0===p(t,i,l)?o.classList.add("shiphit"):!0===p(t,i,l)?o.classList.add("ship"):"x"===e[r][a].value&&o.classList.add("hit")}}console.log(l),console.log(n),console.log(c(1,1));let d=o.player2Gameboard.recieveAttack;u(l,t),u(n,a),a.addEventListener("click",(function(e){const r=e.target;let o=r.dataset.x,c=r.dataset.y;o=++o,c=++c,!0===d(o,c)?(console.log("ship"),u(n,a)):(i(),setTimeout((()=>{u(l,t)}),1e3),u(n,a))}))})()})();
(()=>{var e={352:e=>{function t(){let e=[],t=[{type:"Carrier",length:5,hits:0,sunk:!1},{type:"Battleship",length:4,hits:0,sunk:!1},{type:"Destroyer",length:3,hits:0,sunk:!1},{type:"Submarine",length:3,hits:0,sunk:!1},{type:"Patrol Boat",length:2,hits:0,sunk:!1}],o=function(e){!0===e.sunk||e.hits++},r=function(e){e.hits===e.length?(e.sunk=!0,console.log("sunk")):e.sunk=!1},a=t[0],i=t[1],l=t[2],n=t[3],c=t[4];for(let t=0;t<10;t++){let t=[];for(let e=0;e<10;e++)t.push(0);e.push(t)}function s(t,o,r){if(t-=1,o-=1,r){for(let a=0;a<r.length;a++)if(t+a>=10||0!==e[o][t+a])return!0;return!1}return 0!==e[o][t]&&("x"!==e[o][t].value||void 0!==e[o][t].ship)}return{placeShip:function(t,o,r,a){if(this.x=t,this.y=o,this.ship=r,occupied=s(t,o,r),t-=1,o-=1,"horizontal"===a){if(!(r.length+t<=10&&!1===occupied))throw new Error("Ship is too big or the position is occupied.");for(let a=0;a<r.length;a++)e[o][t+a]={value:"o",ship:r}}else{if("vertical"!==a)throw new Error('Invalid orientation. Only "horizontal" or "vertical" are allowed.');if(!(r.length+o<=10&&!1===occupied))throw new Error("Ship is too big or the position is occupied.");for(let a=0;a<r.length;a++)if(0!==e[o+a][t])throw new Error("Ship is too big or the position is occupied.");for(let a=0;a<r.length;a++)e[o+a][t]={value:"o",ship:r}}},recieveAttack:function(t,a){occupied=s(t,a),t-=1;let i=e[a-=1][t].ship;if(!0===occupied)return e[a][t].value="x",o(i),r(i),console.log(i),console.log("Hit"),!0;if("x"===e[a][t].value)throw new Error("you have already fired here");return e[a][t]={value:"x"},console.log("Miss at "+ ++t+","+ ++a),!1},checkOccupied:s,checkGameOver:function(e){return!0===a.sunk&&!0===i.sunk&&!0===l.sunk&&!0===n.sunk&&!0===c.sunk&&(console.log("Game Over"),!0)},carrier:a,battleship:i,destroyer:l,submarine:n,patrolBoat:c,grid:e}}e.exports={Player:function(){const e=t(),o=t();function r(e){let t=Math.random()<.5?"horizontal":"vertical";console.log(t);let a=0;if("vertical"===t){let i=Math.floor(10*Math.random())+1,l=Math.floor(Math.random()*(11-e.length))+1;for(let t=0;t<e.length;t++)!1===o.checkOccupied(i,l+t)&&a++;if(a===e.length)try{o.placeShip(i,l,e,t)}catch(t){r(e)}else a!==e.length&&r(e)}else if("horizontal"===t){let i=Math.floor(Math.random()*(11-e.length))+1,l=Math.floor(10*Math.random())+1;for(let t=0;t<e.length;t++)!1===o.checkOccupied(i+t,l)&&a++;if(a===e.length)try{o.placeShip(i,l,e,t)}catch(t){r(e)}else a!==e.length&&r(e)}}e.placeShip(1,4,e.carrier,"horizontal"),e.placeShip(2,7,e.battleship,"horizontal"),e.placeShip(3,6,e.destroyer,"horizontal"),e.placeShip(6,10,e.submarine,"horizontal"),e.placeShip(7,8,e.patrolBoat,"horizontal");const a=[o.carrier,o.battleship,o.destroyer,o.submarine,o.patrolBoat];return r(a[0]),r(a[1]),r(a[2]),r(a[3]),r(a[4]),{player1Gameboard:e,player2Gameboard:o,compAttack:function t(){let o=Math.floor(10*Math.random())+1,r=Math.floor(10*Math.random())+1;return o-=1,r-=1,"x"===e.grid[r][o].value||"x"===e.grid[r][o].value&&void 0!==e.grid[r][o].ship?t():[o=++o,r=++r]}}}}}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=o(352);let t=document.getElementById("board1"),r=document.getElementById("board2");const a=(0,e.Player)();function i(){let e=a.compAttack();!0===a.player1Gameboard.recieveAttack(e[0],e[1])?setTimeout((()=>{i()}),1e3):setTimeout((()=>{u(l,t)}),1e3)}const l=a.player1Gameboard.grid,n=a.player2Gameboard.grid;let c=a.player1Gameboard.checkOccupied,s=a.player2Gameboard.checkOccupied;function h(e,o,r){return e===t?c(o,r):s(o,r)}function u(e,t){t.innerHTML="";for(let o=0;o<10;o++)for(let r=0;r<10;r++){const a=document.createElement("div");a.classList.add("cell"),a.dataset.x=r,a.dataset.y=o;let i=r,l=o;a.innerText=e[o][r]?e[o][r].value:"",t.appendChild(a),i=++i,l=++l,"x"===e[o][r].value&&!0===h(t,i,l)?a.classList.add("shiphit"):!0===h(t,i,l)?a.classList.add("ship"):"x"===e[o][r].value&&a.classList.add("hit")}}console.log(l),console.log(n),console.log(c(1,1));let p=a.player2Gameboard.recieveAttack;u(l,t),u(n,r),r.addEventListener("click",(function(e){(!0===a.player1Gameboard.checkGameOver||!0===a.player2Gameboard.checkGameOver)&&console.log("Game Over");const o=e.target;let c=o.dataset.x,s=o.dataset.y;c=++c,s=++s,!0===p(c,s)||(i(),setTimeout((()=>{u(l,t)}),1e3)),u(n,r)}))})()})();